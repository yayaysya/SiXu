# 闪卡背诵-批量管理 实施计划

目标：在 FlashcardDeckView 的‘闪卡背诵’界面提供卡组级批量管理，支持批量合并与批量删除；交互风格对齐 Quiz 列表的‘批量管理’模式；移除底部选择栏。

范围：
- src/flashcard/FlashcardDeckView.ts：新增管理模式状态与工具栏；为卡组卡片增加左侧复选框；实现批量合并与批量删除；移除底部选择栏。
- styles.css：复用现有 Quiz 批量管理样式类（无需新增样式）。

实施步骤：
1) 新增状态 deckSelectionMode 与方法：toggleDeckSelectionMode、exitDeckSelectionMode、setDeckSelected、handleBulkDeckMerge、handleBulkDeckDelete。
2) renderHeader：加入‘批量管理/退出管理’按钮；在管理模式显示顶部工具条（已选数量、合并所选、删除所选）。
3) renderDeckList/renderDeckCard：外包 row 容器（.quiz-card-row），管理模式下显示左侧选择区域（.quiz-card-select-area + .quiz-card-checkbox）；点击选择区/checkbox 切换选择；学习按钮保留并阻止冒泡；隐藏原‘选择’按钮。
4) 批量删除：弹窗确认（ConfirmExitModal）；循环调用 storage.deleteDeck(id)；Notice 反馈成功/失败；刷新并退出管理模式。
5) 移除底部选择栏：不再渲染 renderMultiSelectActions 调用。
6) 验证：npm run build；在 Obsidian 调试环境手测合并/删除/退出管理。

注意：
- 合并使用现有 MergeDecksModal + storage.mergeDecks；删除使用 storage.deleteDeck。
- 选择状态渲染前需剔除无效 id。
- 与 Quiz 交互保持一致：toggle 模式、顶部工具条、左侧复选框。
